<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title>Simple TV Show Watchlist</title>
</head>
<body>
     
     <div class = "container">
        <h1>Show TV Watchlist</h1>
        <form>
            <div class = "form-group">
                <label for = "title">Title: </label>
                <input class = "form-control" type = "text" id = "title">
            </div>
            <div class = "form-group">
                <label for = "rating">Rating: </label>
                <select id = "rating"class = "form-control">
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
            </div>
            <div class = "form-check form-check-inline">
                <input class = "form-check-input" type = "radio" name = "status" value = "watched" id = "watched" checked>
                <label class = "form-check-label" for = "status-watching">Watching</label>
            </div>
            <div class = "form-check form-check-inline">
                <input class = "form-check-input" type = "radio" name = "status" value = "watching" id = "watching">
                <label class = "form-check-label" for = "status-watching">Watching</label>
            </div>
            <div class = "form-check form-check-inline">
                <input class = "form-check-input" type = "radio" name = "status" value = "want to watch" id = "plan to">   
                <label class = "form-check-label" for = "status-planned">Want to watch</label>
            </div>
            <div class = "form-check form-check-inline">
                <input class = "form-check-input" type = "radio" name = "status" value = "dropped" id = "dropped">
                <label class = "form-check-label" for = "status-dropped">Dropped</label>
            </div>
        </form>
        <button id = "submit-button" type = "submit" class = "btn btn-primary">Submit</button>
        <button id = "clear-button" type = "submit" class = "btn btn-danger">Clear</button>

        <ul id = "watchlist" class = "list=group">

        </ul>
        
     </div>

     <script>
         function buttonHandlers () {
             const submit_button = document.getElementById("submit-button");
             const clear_button = document.getElementById("clear-button");
             submit_button.addEventListener("click", addToList);
             clear_button.addEventListener("click", clearList);
         }

         function getInfo () {
             const title = document.getElementById("title").value;
             const rating = document.getElementById("rating").value;
             const status = document.querySelector('input[name="status"]:checked').value;
             if (title !== "" && rating !== "" && status !== "") {
                return [title, rating, status];
             }
             alert("Form is not complete");
             return;
         }

         function addToList (e) {
            e.preventDefault();
            [title, rating, status] = getInfo();
            // create elements
            const list = document.getElementById("watchlist");
            const newItem = document.createElement("li");
            const titleElement = document.createElement("h5");
            const ratingElement = document.createElement("p");
            const statusElement = document.createElement("p");

            titleElement.textContent = "Title: " + title;
            ratingElement.textContent = "Rating: " + rating;
            statusElement.textContent = "Status: " + status;

            newItem.append(titleElement);
            newItem.append(ratingElement);
            newItem.append(statusElement);

            list.append(newItem);
         }

         function clearList (e) {
             const list = document.getElementById("watchlist");
             if (list.children.length > 0) {
                list.innerHTML = "";
             }
         }
         window.onload = buttonHandlers;
     </script>
     
</body>
</html>